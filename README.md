# 斐波那契2048游戏

这是一个基于HTML/CSS/JavaScript的斐波那契版本2048游戏。与传统2048不同，这个游戏使用斐波那契数列作为合并规则，并采用智能的动态数字生成系统。

## 游戏规则

### 基本操作

- 使用方向键（↑↓←→）或触摸滑动移动方块
- 相邻的斐波那契数字可以合并成下一个更大的斐波那契数字
- 目标是创造出尽可能大的斐波那契数字
- 当网格填满且无法合并时游戏结束

### 合并规则

斐波那契数字的合并遵循特殊规则：

- **1 + 1 = 2**（特殊规则）
- **相邻斐波那契数合并**：1+2=3, 2+3=5, 3+5=8, 5+8=13, 8+13=21...
- 只有相邻的斐波那契数字才能合并
- 合并后生成下一个更大的斐波那契数字

## 斐波那契数列

游戏中使用的完整斐波那契数列：

```text
1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, 987, 1597, 2584, 4181, 6765...
```

## 智能数字生成系统

游戏采用动态概率分布系统，根据当前最大数字智能调整新生成数字的概率，确保游戏平衡性和可玩性。

### 生成概率分布表

| 当前最大值范围 | 生成数字及概率 |
|---------------|----------------|
| **< 55** | 1 (100%) |
| **≥ 55** | 1 (80%), 2 (20%) |
| **≥ 89** | 1 (40%), 2 (40%), 3 (20%) |
| **≥ 144** | 1 (25%), 2 (25%), 3 (25%), 5 (25%) |
| **≥ 233** | 1 (40%), 2 (15%), 3 (15%), 5 (15%), 8 (15%) |
| **≥ 377** | 1 (40%), 2 (10%), 3 (10%), 5 (10%), 8 (10%), 13 (10%), 21 (10%) |
| **≥ 610** | 1 (30%), 2 (10%), 3 (10%), 5 (10%), 8 (10%), 13 (10%), 21 (10%), 34 (10%) |

### 设计理念

1. **渐进式难度**：随着游戏进展，生成的数字种类逐渐增加
2. **平衡性保证**：始终保持较小数字的一定比例，避免游戏过早结束
3. **策略性增强**：多样化的数字组合增加了游戏的策略深度
4. **流畅体验**：避免了传统2048中后期小数字过多导致的游戏停滞

## 文件结构

```text
new2048/
├── index.html      # 主HTML文件
├── style.css       # 样式文件
├── script.js       # 游戏逻辑
└── README.md       # 说明文档
```

## 本地运行

1. 确保所有文件在同一目录下

2. 使用任意HTTP服务器运行，例如：

   ```bash
   # 使用Python
   python -m http.server 8000
   
   # 使用Node.js
   npx serve .
   
   # 使用PHP
   php -S localhost:8000
   ```

3. 在浏览器中访问 `http://localhost:8000`

## 部署到网页

### 方法1：静态网站托管

1. **GitHub Pages**：
   - 将代码上传到GitHub仓库
   - 在仓库设置中启用GitHub Pages
   - 访问 `https://yourusername.github.io/repository-name`

2. **Netlify**：
   - 将文件夹拖拽到 [Netlify Drop](https://app.netlify.com/drop)
   - 或连接GitHub仓库自动部署

3. **Vercel**：
   - 使用Vercel CLI或网页界面部署
   - 支持GitHub集成

### 方法2：传统Web服务器

1. 将所有文件上传到你的Web服务器的public_html或www目录

2. 确保文件权限正确（通常644）

3. 通过你的域名访问

### 方法3：CDN部署

可以将文件上传到任何支持静态文件的CDN服务，如：

- AWS S3 + CloudFront
- Azure Static Web Apps
- Google Cloud Storage

## 游戏特性

### 核心功能

- 🎮 **完整的斐波那契合并逻辑**：精确实现斐波那契数列合并规则
- 🧠 **智能数字生成系统**：动态概率分布，确保游戏平衡
- 🎯 **游戏状态检测**：自动检测游戏胜利和失败条件
- 💾 **本地存储**：自动保存最高分记录
- 🔄 **重新开始功能**：随时重置游戏状态

### 用户体验

- 🎨 **现代化UI设计**：简洁美观的界面
- 📱 **完全响应式**：完美适配手机、平板、桌面设备
- 👆 **多种操作方式**：支持键盘方向键和触摸滑动
- ⚡ **流畅动画**：平滑的方块移动和合并效果
- 🔍 **智能缩放适配**：自动处理浏览器缩放问题

### 技术亮点

- 📐 **精确的网格布局**：CSS Grid + JavaScript 动态计算
- 🎲 **概率算法**：累积概率分布实现精确的随机生成
- 🔄 **状态管理**：完整的游戏状态跟踪和更新机制
- 🎪 **事件处理**：统一的键盘和触摸事件处理系统

## 技术实现

### 前端技术栈

- **HTML5**：语义化标记和现代Web标准
- **CSS3**：Grid布局、Flexbox、动画、渐变、媒体查询
- **JavaScript (ES6+)**：模块化编程、箭头函数、解构赋值
- **LocalStorage API**：本地数据持久化

### 核心算法

1. **斐波那契合并算法**：基于数组索引的高效合并判断

2. **动态概率分布**：累积概率算法实现精确的随机数生成

3. **网格状态管理**：二维数组操作和状态同步

4. **碰撞检测**：移动和合并的逻辑判断

5. **响应式布局计算**：基于屏幕尺寸的动态样式调整

## 浏览器兼容性

- Chrome 60+
- Firefox 60+
- Safari 12+
- Edge 79+

## 许可证

本项目采用MIT许可证，可自由使用和修改。
